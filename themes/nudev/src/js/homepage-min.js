!function(e,$,t){"use strict";$(function(){function e(){$("div.takeover").fadeOut(250)}function t(e){function t(e){function t(){a=!1,$(n).css({"pointer-events":"auto"})}TweenLite.to(n,1.5,{ease:Power3.easeOut,marginLeft:e,onComplete:t})}if(windowSize[1]>=sizeBreak){$("footer#nu__global-footer").hasClass("collapse")||$("footer#nu__global-footer").addClass("collapse");var n="#nu__stories";$(n).css({"pointer-events":"none"}),"Left"===e&&currentPanel<panelCount-1?(offset+=windowWidth,currentPanel++,debug&&(currentPanel==panelCount-1?$("#next").fadeOut(250):($("#next").fadeIn(250),$("#prev").fadeIn(250))),t(offset)):"Right"===e&&currentPanel>0&&(offset-=windowWidth,currentPanel--,debug&&(currentPanel==panelCount-1?$("#next").fadeIn(250):0==currentPanel?($("#prev").fadeOut(250),$("#next").fadeIn(250)):$("#next").fadeIn(250)),t(offset))}}var a=!1;windowWidth=-1*windowSize[1];var n=document.getElementById("nu__stories"),o=new Hammer(n),r=(isSafari,1500),s=7e3;if(parseInt($("#nu__alerts").height())>0){var i=parseInt(windowSize[0])-parseInt($("header").height())-parseInt($("footer").height());$("#nu__homepage").css({height:i,"min-height":i})}$("div.takeover").on("click",".nu__close-takeover",function(t){e()}),"block"==$("div.takeover").css("display")&&setTimeout(function(){e()},7e3),$.post("/wp-content/themes/nudev/src/hprotatordata.php",function(e){rotators=JSON.parse(e)}),$("article.nu__block-rotator .rotate").css({display:"block"}),$("article.nu__block-rotator").on("click",".rotate",function(e){function t(e){a.find("div.bgimage,h2,div.nu__overlay-logo").fadeOut(150,function(){a.attr("data-cslide",e),a.attr("style","background-image: url("+rotators[n][e][0]+");"),a.find("a").attr("href",rotators[n][e][1]),a.find("a").attr("target",rotators[n][e][5]),a.find("p").html(rotators[n][e][3]),a.find("h2").html("<span>"+rotators[n][e][2]+"</span>"),a.find("div.nu__overlay-logo").html(""),rotators[n][e][4]&&""!=rotators[n][e][4]&&a.find("div.nu__overlay-logo").html('<img src="'+rotators[n][e][4]+'" alt="overlay logo for '+rotators[n][e][2]+'" />'),a.find("div.bgimage,h2,div.nu__overlay-logo").fadeIn(150)})}var a=$(this).parent().parent().parent(),n=a.attr("data-rotatorid"),o=parseInt(a.attr("data-slidemax")),r=parseInt(a.attr("data-cslide"));t($(this).hasClass("slider_prev")?parseInt(r-1)<1?o:parseInt(r-1):parseInt(r+1)>o?1:parseInt(r+1))}),debug&&(windowSize[1]>=sizeBreak?$("#next").fadeIn(200):$("#next").fadeOut(200)),$("div.nu__footer").on("click",".js_footer-hideshow",function(e){$("footer#nu__global-footer").hasClass("collapse")?$("footer#nu__global-footer").removeClass("collapse"):$("footer#nu__global-footer").addClass("collapse")}),$("body").on("mousewheel",{mousewheel:{behavior:"debounce",delay:5}},function(e,n){windowSize[1]>=sizeBreak&&!a&&!1===$("#nu__search-toggle").hasClass("active")&&!1===$("#nu__supernav-toggle").hasClass("active")&&!1===$("#nu__iamnav-toggle").hasClass("active")&&0==e.deltaX&&(e.deltaY<=(isSafari?-1:-15)&&currentPanel<2?(e.preventDefault(),t("Left"),a=!0):e.deltaY>=(isSafari?1:15)&&0!=currentPanel&&(e.preventDefault(),t("Right"),a=!0))}),$("body").on("click","#prev,#next",function(e){windowSize[1]>=sizeBreak&&!a&&!1===$("#nu__search-toggle").hasClass("active")&&!1===$("#nu__supernav-toggle").hasClass("active")&&!1===$("#nu__iamnav-toggle").hasClass("active")&&(a=!0,t("next"==$(this).attr("id")?"Left":"Right"))}),$(document).keydown(function(e){if(windowSize[1]>=sizeBreak&&!a&&!1===$("#nu__search-toggle").hasClass("active")&&!1===$("#nu__supernav-toggle").hasClass("active")&&!1===$("#nu__iamnav-toggle").hasClass("active"))switch(e.which){case 37:case 38:t("Right");break;case 39:case 40:t("Left");break}}),o.on("swipeleft",function(e){a=!0,t("Left")}),o.on("swiperight",function(e){a=!0,t("Right")}),$(window).on("resize",function(){if(parseInt($("#nu__alerts").height())>0){var e=parseInt($(window).height())-parseInt($("header").outerHeight())-parseInt($("footer").height());$("#nu__homepage").css({height:e,"min-height":e})}windowSize[1]<sizeBreak?($("#nu__stories").css({"margin-left":"0"}),currentPanel=0,offset=0,$("#next,#prev").fadeOut(200)):"none"==$("#next").css("display")&&$("#next").fadeIn(200);var t=-1*windowSize[1],a=windowWidth-t;if(currentPanel>0){var n=offset-a*currentPanel;$("#nu__stories").css({"margin-left":n}),offset=n}windowWidth=t})})}(this,jQuery);